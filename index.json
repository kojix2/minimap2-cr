{"repository_name":"minimap2","body":"# minimap2-cr\n\n[![CI](https://github.com/kojix2/minimap2-cr/actions/workflows/test.yml/badge.svg)](https://github.com/kojix2/minimap2-cr/actions/workflows/test.yml)\n\nCrystal bindings for [minimap2](https://github.com/lh3/minimap2) (long-read mapper).\n\nThis shard downloads/builds minimap2 during install (see `shard.yml` `postinstall`).\n\n## Installation\n\n1. Add the dependency to your `shard.yml`:\n\n   ```yaml\n   dependencies:\n     minimap2:\n       github: kojix2/minimap2-cr\n   ```\n\n2. Run `shards install`\n\n### System requirements (Linux)\n\nBuilding minimap2 requires a C toolchain and zlib headers.\n\n```sh\nsudo apt-get update\nsudo apt-get install -y build-essential curl bzip2 zlib1g-dev\n```\n\n## Usage\n\n### `new` (shortcut)\n\n`new` accepts keyword options for common settings.\n\n```crystal\nrequire \"minimap2\"\n\naligner = Minimap2::Aligner.new(\"reference.fasta\", preset: \"map-ont\", cigar: true, threads: 4)\nhits = aligner.map(\"ACGTACGTACGT\")\nputs hits.size\n```\n\n### `new` with block\n\n`new` applies keyword options first, then yields the builder for extra configuration.\n\n```crystal\nrequire \"minimap2\"\n\naligner = Minimap2::Aligner.new(\"reference.fasta\") do |b|\n  b.map_ont\n  b.with_cigar\n  b.with_index_threads(4)\nend\n```\n\n### Utilities\n\n```crystal\nrequire \"minimap2\"\n\nputs Minimap2.revcomp(\"ACGTN\")\n```\n\n## Development\n\n- Build vendored minimap2: `shards install` (runs `ext/build.cr` via postinstall)\n- Run tests: `crystal spec`\n\nIf you see runtime linker errors, try:\n\n```sh\nexport LD_LIBRARY_PATH=\"$PWD/ext\"\n```\n\n## Contributing\n\n1. Fork it (<https://github.com/your-github-user/minimap2/fork>)\n2. Create your feature branch (`git checkout -b my-new-feature`)\n3. Commit your changes (`git commit -am 'Add some feature'`)\n4. Push to the branch (`git push origin my-new-feature`)\n5. Create a new Pull Request\n\n## Contributors\n\n- [kojix2](https://github.com/your-github-user) - creator and maintainer\n","program":{"html_id":"minimap2/toplevel","path":"toplevel.html","kind":"module","full_name":"Top Level Namespace","name":"Top Level Namespace","abstract":false,"locations":[],"repository_name":"minimap2","program":true,"enum":false,"alias":false,"const":false,"types":[{"html_id":"minimap2/Minimap2","path":"Minimap2.html","kind":"module","full_name":"Minimap2","name":"Minimap2","abstract":false,"locations":[{"filename":"src/minimap2.cr","line_number":7,"url":"https://github.com/kojix2/minimap2-cr/blob/520ea6a58692984b147c2a70c50e3db92cff2665/src/minimap2.cr#L7"},{"filename":"src/minimap2/aligner.cr","line_number":1,"url":"https://github.com/kojix2/minimap2-cr/blob/520ea6a58692984b147c2a70c50e3db92cff2665/src/minimap2/aligner.cr#L1"},{"filename":"src/minimap2/builder.cr","line_number":1,"url":"https://github.com/kojix2/minimap2-cr/blob/520ea6a58692984b147c2a70c50e3db92cff2665/src/minimap2/builder.cr#L1"},{"filename":"src/minimap2/ffi.cr","line_number":1,"url":"https://github.com/kojix2/minimap2-cr/blob/520ea6a58692984b147c2a70c50e3db92cff2665/src/minimap2/ffi.cr#L1"},{"filename":"src/minimap2/mappy.cr","line_number":1,"url":"https://github.com/kojix2/minimap2-cr/blob/520ea6a58692984b147c2a70c50e3db92cff2665/src/minimap2/mappy.cr#L1"},{"filename":"src/minimap2/types.cr","line_number":1,"url":"https://github.com/kojix2/minimap2-cr/blob/520ea6a58692984b147c2a70c50e3db92cff2665/src/minimap2/types.cr#L1"}],"repository_name":"minimap2","program":false,"enum":false,"alias":false,"const":false,"constants":[{"id":"MM_F_CIGAR","name":"MM_F_CIGAR","value":"4_i64"},{"id":"MM_F_OUT_CS","name":"MM_F_OUT_CS","value":"64_i64"},{"id":"VERSION","name":"VERSION","value":"{{ (`shards version /home/runner/work/minimap2-cr/minimap2-cr/src`).chomp.stringify }}"}],"class_methods":[{"html_id":"fetch_seq(idx:Pointer(LibMinimap2::MmIdxT),name:String,start:Int32=0,stop:Int32=Int32::MAX):String|Nil-class-method","name":"fetch_seq","abstract":false,"args":[{"name":"idx","external_name":"idx","restriction":"Pointer(LibMinimap2::MmIdxT)"},{"name":"name","external_name":"name","restriction":"String"},{"name":"start","default_value":"0","external_name":"start","restriction":"Int32"},{"name":"stop","default_value":"Int32::MAX","external_name":"stop","restriction":"Int32"}],"args_string":"(idx : Pointer(LibMinimap2::MmIdxT), name : String, start : Int32 = 0, stop : Int32 = Int32::MAX) : String | Nil","args_html":"(idx : Pointer(LibMinimap2::MmIdxT), name : String, start : Int32 = <span class=\"n\">0</span>, stop : Int32 = <span class=\"t\">Int32</span><span class=\"t\">::</span><span class=\"t\">MAX</span>) : String | Nil","location":{"filename":"src/minimap2/mappy.cr","line_number":18,"url":"https://github.com/kojix2/minimap2-cr/blob/520ea6a58692984b147c2a70c50e3db92cff2665/src/minimap2/mappy.cr#L18"},"def":{"name":"fetch_seq","args":[{"name":"idx","external_name":"idx","restriction":"Pointer(LibMinimap2::MmIdxT)"},{"name":"name","external_name":"name","restriction":"String"},{"name":"start","default_value":"0","external_name":"start","restriction":"Int32"},{"name":"stop","default_value":"Int32::MAX","external_name":"stop","restriction":"Int32"}],"return_type":"String | ::Nil","visibility":"Public","body":"if idx.null?\n  return nil\nend\n\nrid = LibMinimap2.mm_idx_name2id(idx, name)\nif rid < 0\n  return nil\nend\n\nseq_entry = idx.value.seq + rid\nseq_len = seq_entry.value.len.to_i\nif start >= seq_len || start >= stop\n  return nil\nend\n\nen = stop\nif en < 0 || en > seq_len\n  en = seq_len\nend\n\nbuf = Bytes.new(en - start)\ngot = LibMinimap2.mm_idx_getseq(idx, rid.to_u32, start.to_u32, en.to_u32, buf.to_unsafe)\nif got <= 0\n  return nil\nend\n\ndecode_seq(buf, got)\n"},"external_var":false},{"html_id":"idx_seq(seq:String,w:Int32,k:Int32,is_hpc:Bool=false,bucket_bits:Int32=14):Pointer(LibMinimap2::MmIdxT)-class-method","name":"idx_seq","abstract":false,"args":[{"name":"seq","external_name":"seq","restriction":"String"},{"name":"w","external_name":"w","restriction":"Int32"},{"name":"k","external_name":"k","restriction":"Int32"},{"name":"is_hpc","default_value":"false","external_name":"is_hpc","restriction":"Bool"},{"name":"bucket_bits","default_value":"14","external_name":"bucket_bits","restriction":"Int32"}],"args_string":"(seq : String, w : Int32, k : Int32, is_hpc : Bool = false, bucket_bits : Int32 = 14) : Pointer(LibMinimap2::MmIdxT)","args_html":"(seq : String, w : Int32, k : Int32, is_hpc : Bool = <span class=\"n\">false</span>, bucket_bits : Int32 = <span class=\"n\">14</span>) : Pointer(LibMinimap2::MmIdxT)","location":{"filename":"src/minimap2/mappy.cr","line_number":38,"url":"https://github.com/kojix2/minimap2-cr/blob/520ea6a58692984b147c2a70c50e3db92cff2665/src/minimap2/mappy.cr#L38"},"def":{"name":"idx_seq","args":[{"name":"seq","external_name":"seq","restriction":"String"},{"name":"w","external_name":"w","restriction":"Int32"},{"name":"k","external_name":"k","restriction":"Int32"},{"name":"is_hpc","default_value":"false","external_name":"is_hpc","restriction":"Bool"},{"name":"bucket_bits","default_value":"14","external_name":"bucket_bits","restriction":"Int32"}],"return_type":"Pointer(LibMinimap2::MmIdxT)","visibility":"Public","body":"bytes = seq.to_slice\nbuf = Bytes.new(bytes.size + 1)\nbuf.copy_from(bytes)\nbuf[bytes.size] = 0_u8\n\nseq_ptrs = Pointer(::Pointer(LibC::Char)).malloc(1)\nname_ptrs = Pointer(::Pointer(LibC::Char)).malloc(1)\n\nbegin\n  seq_ptrs[0] = buf.to_unsafe.as(::Pointer(LibC::Char))\n  fake_name = \"N/A\"\n  name_ptrs[0] = fake_name.to_unsafe\n  LibMinimap2.mm_idx_str(w, k, is_hpc ? 1 : 0, bucket_bits, 1, seq_ptrs, name_ptrs)\nensure\n  LibC.free(seq_ptrs.as(::Pointer(Void)))\n  LibC.free(name_ptrs.as(::Pointer(Void)))\nend\n"},"external_var":false},{"html_id":"revcomp(seq:String):String-class-method","name":"revcomp","abstract":false,"args":[{"name":"seq","external_name":"seq","restriction":"String"}],"args_string":"(seq : String) : String","args_html":"(seq : String) : String","location":{"filename":"src/minimap2/mappy.cr","line_number":2,"url":"https://github.com/kojix2/minimap2-cr/blob/520ea6a58692984b147c2a70c50e3db92cff2665/src/minimap2/mappy.cr#L2"},"def":{"name":"revcomp","args":[{"name":"seq","external_name":"seq","restriction":"String"}],"return_type":"String","visibility":"Public","body":"revcomp(seq.to_slice)"},"external_var":false},{"html_id":"revcomp(seq:Bytes):String-class-method","name":"revcomp","abstract":false,"args":[{"name":"seq","external_name":"seq","restriction":"Bytes"}],"args_string":"(seq : Bytes) : String","args_html":"(seq : Bytes) : String","location":{"filename":"src/minimap2/mappy.cr","line_number":6,"url":"https://github.com/kojix2/minimap2-cr/blob/520ea6a58692984b147c2a70c50e3db92cff2665/src/minimap2/mappy.cr#L6"},"def":{"name":"revcomp","args":[{"name":"seq","external_name":"seq","restriction":"Bytes"}],"return_type":"String","visibility":"Public","body":"if seq.empty?\n  return \"\"\nend\n\nString.build do |io|\n  i = seq.size - 1\n  while i >= 0\n    io << (complement(seq[i]))\n    i = i - 1\n  end\nend\n"},"external_var":false}],"types":[{"html_id":"minimap2/Minimap2/Aligner","path":"Minimap2/Aligner.html","kind":"class","full_name":"Minimap2::Aligner","name":"Aligner","abstract":false,"superclass":{"html_id":"minimap2/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"minimap2/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"minimap2/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/minimap2/aligner.cr","line_number":2,"url":"https://github.com/kojix2/minimap2-cr/blob/520ea6a58692984b147c2a70c50e3db92cff2665/src/minimap2/aligner.cr#L2"}],"repository_name":"minimap2","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"minimap2/Minimap2","kind":"module","full_name":"Minimap2","name":"Minimap2"},"class_methods":[{"html_id":"build:AlignerBuilder-class-method","name":"build","abstract":false,"location":{"filename":"src/minimap2/aligner.cr","line_number":11,"url":"https://github.com/kojix2/minimap2-cr/blob/520ea6a58692984b147c2a70c50e3db92cff2665/src/minimap2/aligner.cr#L11"},"def":{"name":"build","return_type":"AlignerBuilder","visibility":"Public","body":"AlignerBuilder.new"},"external_var":false},{"html_id":"builder:AlignerBuilder-class-method","name":"builder","summary":"<p><span class=\"flag red\">DEPRECATED</span>  Use .build instead</p>","abstract":false,"location":{"filename":"src/minimap2/aligner.cr","line_number":16,"url":"https://github.com/kojix2/minimap2-cr/blob/520ea6a58692984b147c2a70c50e3db92cff2665/src/minimap2/aligner.cr#L16"},"def":{"name":"builder","return_type":"AlignerBuilder","visibility":"Public","body":"build"},"external_var":false},{"html_id":"cigar_op_char(op:UInt8):Char-class-method","name":"cigar_op_char","abstract":false,"args":[{"name":"op","external_name":"op","restriction":"UInt8"}],"args_string":"(op : UInt8) : Char","args_html":"(op : UInt8) : Char","location":{"filename":"src/minimap2/aligner.cr","line_number":113,"url":"https://github.com/kojix2/minimap2-cr/blob/520ea6a58692984b147c2a70c50e3db92cff2665/src/minimap2/aligner.cr#L113"},"def":{"name":"cigar_op_char","args":[{"name":"op","external_name":"op","restriction":"UInt8"}],"return_type":"Char","visibility":"Public","body":"case op\nwhen 0\n  'M'\nwhen 1\n  'I'\nwhen 2\n  'D'\nwhen 3\n  'N'\nwhen 4\n  'S'\nwhen 5\n  'H'\nwhen 6\n  'P'\nwhen 7\n  '='\nwhen 8\n  'X'\nelse\n  '?'\nend"},"external_var":false}],"constructors":[{"html_id":"new(path:String,preset:String|Nil=nil,threads:Int32=1,output:String|Nil=nil,cigar:Bool=false)-class-method","name":"new","abstract":false,"args":[{"name":"path","external_name":"path","restriction":"String"},{"name":"preset","default_value":"nil","external_name":"preset","restriction":"String | ::Nil"},{"name":"threads","default_value":"1","external_name":"threads","restriction":"Int32"},{"name":"output","default_value":"nil","external_name":"output","restriction":"String | ::Nil"},{"name":"cigar","default_value":"false","external_name":"cigar","restriction":"Bool"}],"args_string":"(path : String, preset : String | Nil = nil, threads : Int32 = 1, output : String | Nil = nil, cigar : Bool = false)","args_html":"(path : String, preset : String | Nil = <span class=\"n\">nil</span>, threads : Int32 = <span class=\"n\">1</span>, output : String | Nil = <span class=\"n\">nil</span>, cigar : Bool = <span class=\"n\">false</span>)","location":{"filename":"src/minimap2/aligner.cr","line_number":20,"url":"https://github.com/kojix2/minimap2-cr/blob/520ea6a58692984b147c2a70c50e3db92cff2665/src/minimap2/aligner.cr#L20"},"def":{"name":"new","args":[{"name":"path","external_name":"path","restriction":"String"},{"name":"preset","default_value":"nil","external_name":"preset","restriction":"String | ::Nil"},{"name":"threads","default_value":"1","external_name":"threads","restriction":"Int32"},{"name":"output","default_value":"nil","external_name":"output","restriction":"String | ::Nil"},{"name":"cigar","default_value":"false","external_name":"cigar","restriction":"Bool"}],"visibility":"Public","body":"builder = AlignerBuilder.new\nif preset\n  builder.preset(preset)\nend\nbuilder.with_index_threads(threads)\nif cigar\n  builder.with_cigar\nend\nbuilder.with_index(path, output)\n"},"external_var":false},{"html_id":"new(path:String,preset:String|Nil=nil,threads:Int32=1,output:String|Nil=nil,cigar:Bool=false,&block:AlignerBuilder->)-class-method","name":"new","abstract":false,"args":[{"name":"path","external_name":"path","restriction":"String"},{"name":"preset","default_value":"nil","external_name":"preset","restriction":"String | ::Nil"},{"name":"threads","default_value":"1","external_name":"threads","restriction":"Int32"},{"name":"output","default_value":"nil","external_name":"output","restriction":"String | ::Nil"},{"name":"cigar","default_value":"false","external_name":"cigar","restriction":"Bool"}],"args_string":"(path : String, preset : String | Nil = nil, threads : Int32 = 1, output : String | Nil = nil, cigar : Bool = false, &block : AlignerBuilder -> )","args_html":"(path : String, preset : String | Nil = <span class=\"n\">nil</span>, threads : Int32 = <span class=\"n\">1</span>, output : String | Nil = <span class=\"n\">nil</span>, cigar : Bool = <span class=\"n\">false</span>, &block : <a href=\"../Minimap2/AlignerBuilder.html\">AlignerBuilder</a> -> )","location":{"filename":"src/minimap2/aligner.cr","line_number":28,"url":"https://github.com/kojix2/minimap2-cr/blob/520ea6a58692984b147c2a70c50e3db92cff2665/src/minimap2/aligner.cr#L28"},"def":{"name":"new","args":[{"name":"path","external_name":"path","restriction":"String"},{"name":"preset","default_value":"nil","external_name":"preset","restriction":"String | ::Nil"},{"name":"threads","default_value":"1","external_name":"threads","restriction":"Int32"},{"name":"output","default_value":"nil","external_name":"output","restriction":"String | ::Nil"},{"name":"cigar","default_value":"false","external_name":"cigar","restriction":"Bool"}],"yields":1,"block_arity":1,"block_arg":{"name":"block","external_name":"block","restriction":"(AlignerBuilder ->)"},"visibility":"Public","body":"builder = AlignerBuilder.new\nif preset\n  builder.preset(preset)\nend\nbuilder.with_index_threads(threads)\nif cigar\n  builder.with_cigar\nend\nblock.call(builder)\nbuilder.with_index(path, output)\n"},"external_var":false},{"html_id":"new(idxopt:LibMinimap2::MmIdxoptT,mapopt:LibMinimap2::MmMapoptT,threads:Int32,path:String,output:String|Nil)-class-method","name":"new","abstract":false,"args":[{"name":"idxopt","external_name":"idxopt","restriction":"LibMinimap2::MmIdxoptT"},{"name":"mapopt","external_name":"mapopt","restriction":"LibMinimap2::MmMapoptT"},{"name":"threads","external_name":"threads","restriction":"Int32"},{"name":"path","external_name":"path","restriction":"String"},{"name":"output","external_name":"output","restriction":"String | ::Nil"}],"args_string":"(idxopt : LibMinimap2::MmIdxoptT, mapopt : LibMinimap2::MmMapoptT, threads : Int32, path : String, output : String | Nil)","args_html":"(idxopt : LibMinimap2::MmIdxoptT, mapopt : LibMinimap2::MmMapoptT, threads : Int32, path : String, output : String | Nil)","location":{"filename":"src/minimap2/aligner.cr","line_number":37,"url":"https://github.com/kojix2/minimap2-cr/blob/520ea6a58692984b147c2a70c50e3db92cff2665/src/minimap2/aligner.cr#L37"},"def":{"name":"new","args":[{"name":"idxopt","external_name":"idxopt","restriction":"LibMinimap2::MmIdxoptT"},{"name":"mapopt","external_name":"mapopt","restriction":"LibMinimap2::MmMapoptT"},{"name":"threads","external_name":"threads","restriction":"Int32"},{"name":"path","external_name":"path","restriction":"String"},{"name":"output","external_name":"output","restriction":"String | ::Nil"}],"visibility":"Public","body":"_ = allocate\n_.initialize(idxopt, mapopt, threads, path, output)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"finalize-instance-method","name":"finalize","abstract":false,"location":{"filename":"src/minimap2/aligner.cr","line_number":107,"url":"https://github.com/kojix2/minimap2-cr/blob/520ea6a58692984b147c2a70c50e3db92cff2665/src/minimap2/aligner.cr#L107"},"def":{"name":"finalize","visibility":"Public","body":"@idx_parts.each do |idx|\n  LibMinimap2.mm_idx_destroy(idx)\nend"},"external_var":false},{"html_id":"idx_opt:LibMinimap2::MmIdxoptT-instance-method","name":"idx_opt","abstract":false,"location":{"filename":"src/minimap2/aligner.cr","line_number":3,"url":"https://github.com/kojix2/minimap2-cr/blob/520ea6a58692984b147c2a70c50e3db92cff2665/src/minimap2/aligner.cr#L3"},"def":{"name":"idx_opt","return_type":"LibMinimap2::MmIdxoptT","visibility":"Public","body":"@idx_opt"},"external_var":false},{"html_id":"map(seq:String,cs:Bool=false,md:Bool=false,max_frag_len:Int32|Nil=nil,extra_flags:Array(UInt64)|Nil=nil,query_name:String|Nil=nil):Array(Mapping)-instance-method","name":"map","abstract":false,"args":[{"name":"seq","external_name":"seq","restriction":"String"},{"name":"cs","default_value":"false","external_name":"cs","restriction":"Bool"},{"name":"md","default_value":"false","external_name":"md","restriction":"Bool"},{"name":"max_frag_len","default_value":"nil","external_name":"max_frag_len","restriction":"Int32 | ::Nil"},{"name":"extra_flags","default_value":"nil","external_name":"extra_flags","restriction":"Array(UInt64) | ::Nil"},{"name":"query_name","default_value":"nil","external_name":"query_name","restriction":"String | ::Nil"}],"args_string":"(seq : String, cs : Bool = false, md : Bool = false, max_frag_len : Int32 | Nil = nil, extra_flags : Array(UInt64) | Nil = nil, query_name : String | Nil = nil) : Array(Mapping)","args_html":"(seq : String, cs : Bool = <span class=\"n\">false</span>, md : Bool = <span class=\"n\">false</span>, max_frag_len : Int32 | Nil = <span class=\"n\">nil</span>, extra_flags : Array(UInt64) | Nil = <span class=\"n\">nil</span>, query_name : String | Nil = <span class=\"n\">nil</span>) : Array(<a href=\"../Minimap2/Mapping.html\">Mapping</a>)","location":{"filename":"src/minimap2/aligner.cr","line_number":86,"url":"https://github.com/kojix2/minimap2-cr/blob/520ea6a58692984b147c2a70c50e3db92cff2665/src/minimap2/aligner.cr#L86"},"def":{"name":"map","args":[{"name":"seq","external_name":"seq","restriction":"String"},{"name":"cs","default_value":"false","external_name":"cs","restriction":"Bool"},{"name":"md","default_value":"false","external_name":"md","restriction":"Bool"},{"name":"max_frag_len","default_value":"nil","external_name":"max_frag_len","restriction":"Int32 | ::Nil"},{"name":"extra_flags","default_value":"nil","external_name":"extra_flags","restriction":"Array(UInt64) | ::Nil"},{"name":"query_name","default_value":"nil","external_name":"query_name","restriction":"String | ::Nil"}],"return_type":"Array(Mapping)","visibility":"Public","body":"map(seq.to_slice, cs, md, max_frag_len, extra_flags, query_name)"},"external_var":false},{"html_id":"map(seq:Bytes,cs:Bool=false,md:Bool=false,max_frag_len:Int32|Nil=nil,extra_flags:Array(UInt64)|Nil=nil,query_name:String|Nil=nil):Array(Mapping)-instance-method","name":"map","abstract":false,"args":[{"name":"seq","external_name":"seq","restriction":"Bytes"},{"name":"cs","default_value":"false","external_name":"cs","restriction":"Bool"},{"name":"md","default_value":"false","external_name":"md","restriction":"Bool"},{"name":"max_frag_len","default_value":"nil","external_name":"max_frag_len","restriction":"Int32 | ::Nil"},{"name":"extra_flags","default_value":"nil","external_name":"extra_flags","restriction":"Array(UInt64) | ::Nil"},{"name":"query_name","default_value":"nil","external_name":"query_name","restriction":"String | ::Nil"}],"args_string":"(seq : Bytes, cs : Bool = false, md : Bool = false, max_frag_len : Int32 | Nil = nil, extra_flags : Array(UInt64) | Nil = nil, query_name : String | Nil = nil) : Array(Mapping)","args_html":"(seq : Bytes, cs : Bool = <span class=\"n\">false</span>, md : Bool = <span class=\"n\">false</span>, max_frag_len : Int32 | Nil = <span class=\"n\">nil</span>, extra_flags : Array(UInt64) | Nil = <span class=\"n\">nil</span>, query_name : String | Nil = <span class=\"n\">nil</span>) : Array(<a href=\"../Minimap2/Mapping.html\">Mapping</a>)","location":{"filename":"src/minimap2/aligner.cr","line_number":90,"url":"https://github.com/kojix2/minimap2-cr/blob/520ea6a58692984b147c2a70c50e3db92cff2665/src/minimap2/aligner.cr#L90"},"def":{"name":"map","args":[{"name":"seq","external_name":"seq","restriction":"Bytes"},{"name":"cs","default_value":"false","external_name":"cs","restriction":"Bool"},{"name":"md","default_value":"false","external_name":"md","restriction":"Bool"},{"name":"max_frag_len","default_value":"nil","external_name":"max_frag_len","restriction":"Int32 | ::Nil"},{"name":"extra_flags","default_value":"nil","external_name":"extra_flags","restriction":"Array(UInt64) | ::Nil"},{"name":"query_name","default_value":"nil","external_name":"query_name","restriction":"String | ::Nil"}],"return_type":"Array(Mapping)","visibility":"Public","body":"if seq.empty?\n  raise(\"Sequence is empty\")\nend\nmapopt = prepare_mapopt(max_frag_len, extra_flags)\nqname_ptr = query_name ? query_name.to_unsafe : Pointer(LibC::Char).null\n\nwith_thread_buffer do |tbuf|\n  km = LibMinimap2.mm_tbuf_get_km(tbuf)\n  all_mappings = [] of Mapping\n\n  @idx_parts.each do |idx|\n    all_mappings.concat(map_with_index(idx, seq, mapopt, tbuf, qname_ptr, km, cs, md))\n  end\n\n  all_mappings\nend\n"},"external_var":false},{"html_id":"map_opt:LibMinimap2::MmMapoptT-instance-method","name":"map_opt","abstract":false,"location":{"filename":"src/minimap2/aligner.cr","line_number":4,"url":"https://github.com/kojix2/minimap2-cr/blob/520ea6a58692984b147c2a70c50e3db92cff2665/src/minimap2/aligner.cr#L4"},"def":{"name":"map_opt","return_type":"LibMinimap2::MmMapoptT","visibility":"Public","body":"@map_opt"},"external_var":false},{"html_id":"n_seq:UInt32-instance-method","name":"n_seq","abstract":false,"location":{"filename":"src/minimap2/aligner.cr","line_number":54,"url":"https://github.com/kojix2/minimap2-cr/blob/520ea6a58692984b147c2a70c50e3db92cff2665/src/minimap2/aligner.cr#L54"},"def":{"name":"n_seq","return_type":"UInt32","visibility":"Public","body":"if @idx_parts.empty?\n  return 0_u32\nend\n@idx_parts[0].value.n_seq\n"},"external_var":false},{"html_id":"seq(name:String,start:Int32=0,stop:Int32=Int32::MAX):String|Nil-instance-method","name":"seq","abstract":false,"args":[{"name":"name","external_name":"name","restriction":"String"},{"name":"start","default_value":"0","external_name":"start","restriction":"Int32"},{"name":"stop","default_value":"Int32::MAX","external_name":"stop","restriction":"Int32"}],"args_string":"(name : String, start : Int32 = 0, stop : Int32 = Int32::MAX) : String | Nil","args_html":"(name : String, start : Int32 = <span class=\"n\">0</span>, stop : Int32 = <span class=\"t\">Int32</span><span class=\"t\">::</span><span class=\"t\">MAX</span>) : String | Nil","location":{"filename":"src/minimap2/aligner.cr","line_number":59,"url":"https://github.com/kojix2/minimap2-cr/blob/520ea6a58692984b147c2a70c50e3db92cff2665/src/minimap2/aligner.cr#L59"},"def":{"name":"seq","args":[{"name":"name","external_name":"name","restriction":"String"},{"name":"start","default_value":"0","external_name":"start","restriction":"Int32"},{"name":"stop","default_value":"Int32::MAX","external_name":"stop","restriction":"Int32"}],"return_type":"String | ::Nil","visibility":"Public","body":"if @idx_parts.empty?\n  return nil\nend\n\n@idx_parts.each do |idx|\n  if idx.null?\n    next\n  end\n  if ((@map_opt.flag & 4_i64) == 0_i64) && ((idx.value.flag & 2) == 0)\n    next\n  end\n\n  rid = LibMinimap2.mm_idx_name2id(idx, name)\n  if rid < 0\n    next\n  end\n\n  seq_entry = idx.value.seq + rid\n  seq_len = seq_entry.value.len.to_i\n  if start >= seq_len || start >= stop\n    return nil\n  end\n\n  en = stop\n  if en < 0 || en > seq_len\n    en = seq_len\n  end\n\n  buf = Bytes.new(en - start)\n  got = LibMinimap2.mm_idx_getseq(idx, rid.to_u32, start.to_u32, en.to_u32, buf.to_unsafe)\n  if got <= 0\n    next\n  end\n\n  return decode_seq(buf, got)\nend\n\nnil\n"},"external_var":false}]},{"html_id":"minimap2/Minimap2/AlignerBuilder","path":"Minimap2/AlignerBuilder.html","kind":"class","full_name":"Minimap2::AlignerBuilder","name":"AlignerBuilder","abstract":false,"superclass":{"html_id":"minimap2/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"minimap2/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"minimap2/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/minimap2/builder.cr","line_number":2,"url":"https://github.com/kojix2/minimap2-cr/blob/520ea6a58692984b147c2a70c50e3db92cff2665/src/minimap2/builder.cr#L2"}],"repository_name":"minimap2","program":false,"enum":false,"alias":false,"const":false,"constants":[{"id":"PRESETS","name":"PRESETS","value":"{\n  map_ont: \"map-ont\",\n  map_hifi: \"map-hifi\",\n  map_pb: \"map-pb\",\n  splice: \"splice\",\n  splice_hq: \"splice:hq\",\n  splice_sr: \"splice:sr\",\n  asm5: \"asm5\",\n  asm10: \"asm10\",\n  asm20: \"asm20\",\n  sr: \"sr\",\n}"}],"namespace":{"html_id":"minimap2/Minimap2","kind":"module","full_name":"Minimap2","name":"Minimap2"},"constructors":[{"html_id":"new-class-method","name":"new","abstract":false,"location":{"filename":"src/minimap2/builder.cr","line_number":20,"url":"https://github.com/kojix2/minimap2-cr/blob/520ea6a58692984b147c2a70c50e3db92cff2665/src/minimap2/builder.cr#L20"},"def":{"name":"new","visibility":"Public","body":"_ = allocate\n_.initialize\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"asm10:self-instance-method","name":"asm10","abstract":false,"location":{"filename":"src/minimap2/builder.cr","line_number":34,"url":"https://github.com/kojix2/minimap2-cr/blob/520ea6a58692984b147c2a70c50e3db92cff2665/src/minimap2/builder.cr#L34"},"def":{"name":"asm10","return_type":"self","visibility":"Public","body":"preset(\"asm10\")"},"external_var":false},{"html_id":"asm20:self-instance-method","name":"asm20","abstract":false,"location":{"filename":"src/minimap2/builder.cr","line_number":34,"url":"https://github.com/kojix2/minimap2-cr/blob/520ea6a58692984b147c2a70c50e3db92cff2665/src/minimap2/builder.cr#L34"},"def":{"name":"asm20","return_type":"self","visibility":"Public","body":"preset(\"asm20\")"},"external_var":false},{"html_id":"asm5:self-instance-method","name":"asm5","abstract":false,"location":{"filename":"src/minimap2/builder.cr","line_number":34,"url":"https://github.com/kojix2/minimap2-cr/blob/520ea6a58692984b147c2a70c50e3db92cff2665/src/minimap2/builder.cr#L34"},"def":{"name":"asm5","return_type":"self","visibility":"Public","body":"preset(\"asm5\")"},"external_var":false},{"html_id":"map_hifi:self-instance-method","name":"map_hifi","abstract":false,"location":{"filename":"src/minimap2/builder.cr","line_number":34,"url":"https://github.com/kojix2/minimap2-cr/blob/520ea6a58692984b147c2a70c50e3db92cff2665/src/minimap2/builder.cr#L34"},"def":{"name":"map_hifi","return_type":"self","visibility":"Public","body":"preset(\"map-hifi\")"},"external_var":false},{"html_id":"map_ont:self-instance-method","name":"map_ont","abstract":false,"location":{"filename":"src/minimap2/builder.cr","line_number":34,"url":"https://github.com/kojix2/minimap2-cr/blob/520ea6a58692984b147c2a70c50e3db92cff2665/src/minimap2/builder.cr#L34"},"def":{"name":"map_ont","return_type":"self","visibility":"Public","body":"preset(\"map-ont\")"},"external_var":false},{"html_id":"map_pb:self-instance-method","name":"map_pb","abstract":false,"location":{"filename":"src/minimap2/builder.cr","line_number":34,"url":"https://github.com/kojix2/minimap2-cr/blob/520ea6a58692984b147c2a70c50e3db92cff2665/src/minimap2/builder.cr#L34"},"def":{"name":"map_pb","return_type":"self","visibility":"Public","body":"preset(\"map-pb\")"},"external_var":false},{"html_id":"preset(preset:String):self-instance-method","name":"preset","abstract":false,"args":[{"name":"preset","external_name":"preset","restriction":"String"}],"args_string":"(preset : String) : self","args_html":"(preset : String) : <span class=\"k\">self</span>","location":{"filename":"src/minimap2/builder.cr","line_number":28,"url":"https://github.com/kojix2/minimap2-cr/blob/520ea6a58692984b147c2a70c50e3db92cff2665/src/minimap2/builder.cr#L28"},"def":{"name":"preset","args":[{"name":"preset","external_name":"preset","restriction":"String"}],"return_type":"self","visibility":"Public","body":"c_preset = preset.to_unsafe\nLibMinimap2.mm_set_opt(c_preset, pointerof(@idxopt), pointerof(@mapopt))\nself\n"},"external_var":false},{"html_id":"splice:self-instance-method","name":"splice","abstract":false,"location":{"filename":"src/minimap2/builder.cr","line_number":34,"url":"https://github.com/kojix2/minimap2-cr/blob/520ea6a58692984b147c2a70c50e3db92cff2665/src/minimap2/builder.cr#L34"},"def":{"name":"splice","return_type":"self","visibility":"Public","body":"preset(\"splice\")"},"external_var":false},{"html_id":"splice_hq:self-instance-method","name":"splice_hq","abstract":false,"location":{"filename":"src/minimap2/builder.cr","line_number":34,"url":"https://github.com/kojix2/minimap2-cr/blob/520ea6a58692984b147c2a70c50e3db92cff2665/src/minimap2/builder.cr#L34"},"def":{"name":"splice_hq","return_type":"self","visibility":"Public","body":"preset(\"splice:hq\")"},"external_var":false},{"html_id":"splice_sr:self-instance-method","name":"splice_sr","abstract":false,"location":{"filename":"src/minimap2/builder.cr","line_number":34,"url":"https://github.com/kojix2/minimap2-cr/blob/520ea6a58692984b147c2a70c50e3db92cff2665/src/minimap2/builder.cr#L34"},"def":{"name":"splice_sr","return_type":"self","visibility":"Public","body":"preset(\"splice:sr\")"},"external_var":false},{"html_id":"sr:self-instance-method","name":"sr","abstract":false,"location":{"filename":"src/minimap2/builder.cr","line_number":34,"url":"https://github.com/kojix2/minimap2-cr/blob/520ea6a58692984b147c2a70c50e3db92cff2665/src/minimap2/builder.cr#L34"},"def":{"name":"sr","return_type":"self","visibility":"Public","body":"preset(\"sr\")"},"external_var":false},{"html_id":"with_cigar:self-instance-method","name":"with_cigar","abstract":false,"location":{"filename":"src/minimap2/builder.cr","line_number":40,"url":"https://github.com/kojix2/minimap2-cr/blob/520ea6a58692984b147c2a70c50e3db92cff2665/src/minimap2/builder.cr#L40"},"def":{"name":"with_cigar","return_type":"self","visibility":"Public","body":"@mapopt.flag = @mapopt.flag | (MM_F_CIGAR | MM_F_OUT_CS)\nself\n"},"external_var":false},{"html_id":"with_index(path:String,output:String|Nil=nil):Aligner-instance-method","name":"with_index","abstract":false,"args":[{"name":"path","external_name":"path","restriction":"String"},{"name":"output","default_value":"nil","external_name":"output","restriction":"String | ::Nil"}],"args_string":"(path : String, output : String | Nil = nil) : Aligner","args_html":"(path : String, output : String | Nil = <span class=\"n\">nil</span>) : <a href=\"../Minimap2/Aligner.html\">Aligner</a>","location":{"filename":"src/minimap2/builder.cr","line_number":50,"url":"https://github.com/kojix2/minimap2-cr/blob/520ea6a58692984b147c2a70c50e3db92cff2665/src/minimap2/builder.cr#L50"},"def":{"name":"with_index","args":[{"name":"path","external_name":"path","restriction":"String"},{"name":"output","default_value":"nil","external_name":"output","restriction":"String | ::Nil"}],"return_type":"Aligner","visibility":"Public","body":"Aligner.new(@idxopt, @mapopt, @threads, path, output)"},"external_var":false},{"html_id":"with_index_threads(threads:Int32):self-instance-method","name":"with_index_threads","abstract":false,"args":[{"name":"threads","external_name":"threads","restriction":"Int32"}],"args_string":"(threads : Int32) : self","args_html":"(threads : Int32) : <span class=\"k\">self</span>","location":{"filename":"src/minimap2/builder.cr","line_number":45,"url":"https://github.com/kojix2/minimap2-cr/blob/520ea6a58692984b147c2a70c50e3db92cff2665/src/minimap2/builder.cr#L45"},"def":{"name":"with_index_threads","args":[{"name":"threads","external_name":"threads","restriction":"Int32"}],"return_type":"self","visibility":"Public","body":"@threads = threads\nself\n"},"external_var":false}]},{"html_id":"minimap2/Minimap2/Alignment","path":"Minimap2/Alignment.html","kind":"struct","full_name":"Minimap2::Alignment","name":"Alignment","abstract":false,"superclass":{"html_id":"minimap2/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"minimap2/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"minimap2/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"minimap2/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/minimap2/types.cr","line_number":7,"url":"https://github.com/kojix2/minimap2-cr/blob/520ea6a58692984b147c2a70c50e3db92cff2665/src/minimap2/types.cr#L7"}],"repository_name":"minimap2","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"minimap2/Minimap2","kind":"module","full_name":"Minimap2","name":"Minimap2"},"constructors":[{"html_id":"new(nm:Int32,cigar:Array(Tuple(UInt32,UInt8)),cigar_str:String,md:String|Nil,cs:String|Nil,alignment_score:Int32|Nil)-class-method","name":"new","abstract":false,"args":[{"name":"nm","external_name":"nm","restriction":"Int32"},{"name":"cigar","external_name":"cigar","restriction":"Array(Tuple(UInt32, UInt8))"},{"name":"cigar_str","external_name":"cigar_str","restriction":"String"},{"name":"md","external_name":"md","restriction":"String | ::Nil"},{"name":"cs","external_name":"cs","restriction":"String | ::Nil"},{"name":"alignment_score","external_name":"alignment_score","restriction":"Int32 | ::Nil"}],"args_string":"(nm : Int32, cigar : Array(Tuple(UInt32, UInt8)), cigar_str : String, md : String | Nil, cs : String | Nil, alignment_score : Int32 | Nil)","args_html":"(nm : Int32, cigar : Array(Tuple(UInt32, UInt8)), cigar_str : String, md : String | Nil, cs : String | Nil, alignment_score : Int32 | Nil)","location":{"filename":"src/minimap2/types.cr","line_number":15,"url":"https://github.com/kojix2/minimap2-cr/blob/520ea6a58692984b147c2a70c50e3db92cff2665/src/minimap2/types.cr#L15"},"def":{"name":"new","args":[{"name":"nm","external_name":"nm","restriction":"Int32"},{"name":"cigar","external_name":"cigar","restriction":"Array(Tuple(UInt32, UInt8))"},{"name":"cigar_str","external_name":"cigar_str","restriction":"String"},{"name":"md","external_name":"md","restriction":"String | ::Nil"},{"name":"cs","external_name":"cs","restriction":"String | ::Nil"},{"name":"alignment_score","external_name":"alignment_score","restriction":"Int32 | ::Nil"}],"visibility":"Public","body":"_ = allocate\n_.initialize(nm, cigar, cigar_str, md, cs, alignment_score)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"alignment_score:Int32|Nil-instance-method","name":"alignment_score","abstract":false,"location":{"filename":"src/minimap2/types.cr","line_number":13,"url":"https://github.com/kojix2/minimap2-cr/blob/520ea6a58692984b147c2a70c50e3db92cff2665/src/minimap2/types.cr#L13"},"def":{"name":"alignment_score","return_type":"Int32 | ::Nil","visibility":"Public","body":"@alignment_score"},"external_var":false},{"html_id":"cigar:Array(Tuple(UInt32,UInt8))-instance-method","name":"cigar","abstract":false,"location":{"filename":"src/minimap2/types.cr","line_number":9,"url":"https://github.com/kojix2/minimap2-cr/blob/520ea6a58692984b147c2a70c50e3db92cff2665/src/minimap2/types.cr#L9"},"def":{"name":"cigar","return_type":"Array(Tuple(UInt32, UInt8))","visibility":"Public","body":"@cigar"},"external_var":false},{"html_id":"cigar_str:String-instance-method","name":"cigar_str","abstract":false,"location":{"filename":"src/minimap2/types.cr","line_number":10,"url":"https://github.com/kojix2/minimap2-cr/blob/520ea6a58692984b147c2a70c50e3db92cff2665/src/minimap2/types.cr#L10"},"def":{"name":"cigar_str","return_type":"String","visibility":"Public","body":"@cigar_str"},"external_var":false},{"html_id":"cs:String|Nil-instance-method","name":"cs","abstract":false,"location":{"filename":"src/minimap2/types.cr","line_number":12,"url":"https://github.com/kojix2/minimap2-cr/blob/520ea6a58692984b147c2a70c50e3db92cff2665/src/minimap2/types.cr#L12"},"def":{"name":"cs","return_type":"String | ::Nil","visibility":"Public","body":"@cs"},"external_var":false},{"html_id":"md:String|Nil-instance-method","name":"md","abstract":false,"location":{"filename":"src/minimap2/types.cr","line_number":11,"url":"https://github.com/kojix2/minimap2-cr/blob/520ea6a58692984b147c2a70c50e3db92cff2665/src/minimap2/types.cr#L11"},"def":{"name":"md","return_type":"String | ::Nil","visibility":"Public","body":"@md"},"external_var":false},{"html_id":"nm:Int32-instance-method","name":"nm","abstract":false,"location":{"filename":"src/minimap2/types.cr","line_number":8,"url":"https://github.com/kojix2/minimap2-cr/blob/520ea6a58692984b147c2a70c50e3db92cff2665/src/minimap2/types.cr#L8"},"def":{"name":"nm","return_type":"Int32","visibility":"Public","body":"@nm"},"external_var":false}]},{"html_id":"minimap2/Minimap2/Mapping","path":"Minimap2/Mapping.html","kind":"struct","full_name":"Minimap2::Mapping","name":"Mapping","abstract":false,"superclass":{"html_id":"minimap2/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"minimap2/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"minimap2/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"minimap2/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/minimap2/types.cr","line_number":19,"url":"https://github.com/kojix2/minimap2-cr/blob/520ea6a58692984b147c2a70c50e3db92cff2665/src/minimap2/types.cr#L19"}],"repository_name":"minimap2","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"minimap2/Minimap2","kind":"module","full_name":"Minimap2","name":"Minimap2"},"constructors":[{"html_id":"new(query_start:Int32,query_end:Int32,strand:Strand,target_name:String,target_len:Int32,target_start:Int32,target_end:Int32,match_len:Int32,block_len:Int32,mapq:UInt32,is_primary:Bool,cigar:Array(Tuple(UInt32,UInt8)),cigar_str:String,nm:Int32,md:String|Nil,cs:String|Nil)-class-method","name":"new","abstract":false,"args":[{"name":"query_start","external_name":"query_start","restriction":"Int32"},{"name":"query_end","external_name":"query_end","restriction":"Int32"},{"name":"strand","external_name":"strand","restriction":"Strand"},{"name":"target_name","external_name":"target_name","restriction":"String"},{"name":"target_len","external_name":"target_len","restriction":"Int32"},{"name":"target_start","external_name":"target_start","restriction":"Int32"},{"name":"target_end","external_name":"target_end","restriction":"Int32"},{"name":"match_len","external_name":"match_len","restriction":"Int32"},{"name":"block_len","external_name":"block_len","restriction":"Int32"},{"name":"mapq","external_name":"mapq","restriction":"UInt32"},{"name":"is_primary","external_name":"is_primary","restriction":"Bool"},{"name":"cigar","external_name":"cigar","restriction":"Array(Tuple(UInt32, UInt8))"},{"name":"cigar_str","external_name":"cigar_str","restriction":"String"},{"name":"nm","external_name":"nm","restriction":"Int32"},{"name":"md","external_name":"md","restriction":"String | ::Nil"},{"name":"cs","external_name":"cs","restriction":"String | ::Nil"}],"args_string":"(query_start : Int32, query_end : Int32, strand : Strand, target_name : String, target_len : Int32, target_start : Int32, target_end : Int32, match_len : Int32, block_len : Int32, mapq : UInt32, is_primary : Bool, cigar : Array(Tuple(UInt32, UInt8)), cigar_str : String, nm : Int32, md : String | Nil, cs : String | Nil)","args_html":"(query_start : Int32, query_end : Int32, strand : <a href=\"../Minimap2/Strand.html\">Strand</a>, target_name : String, target_len : Int32, target_start : Int32, target_end : Int32, match_len : Int32, block_len : Int32, mapq : UInt32, is_primary : Bool, cigar : Array(Tuple(UInt32, UInt8)), cigar_str : String, nm : Int32, md : String | Nil, cs : String | Nil)","location":{"filename":"src/minimap2/types.cr","line_number":37,"url":"https://github.com/kojix2/minimap2-cr/blob/520ea6a58692984b147c2a70c50e3db92cff2665/src/minimap2/types.cr#L37"},"def":{"name":"new","args":[{"name":"query_start","external_name":"query_start","restriction":"Int32"},{"name":"query_end","external_name":"query_end","restriction":"Int32"},{"name":"strand","external_name":"strand","restriction":"Strand"},{"name":"target_name","external_name":"target_name","restriction":"String"},{"name":"target_len","external_name":"target_len","restriction":"Int32"},{"name":"target_start","external_name":"target_start","restriction":"Int32"},{"name":"target_end","external_name":"target_end","restriction":"Int32"},{"name":"match_len","external_name":"match_len","restriction":"Int32"},{"name":"block_len","external_name":"block_len","restriction":"Int32"},{"name":"mapq","external_name":"mapq","restriction":"UInt32"},{"name":"is_primary","external_name":"is_primary","restriction":"Bool"},{"name":"cigar","external_name":"cigar","restriction":"Array(Tuple(UInt32, UInt8))"},{"name":"cigar_str","external_name":"cigar_str","restriction":"String"},{"name":"nm","external_name":"nm","restriction":"Int32"},{"name":"md","external_name":"md","restriction":"String | ::Nil"},{"name":"cs","external_name":"cs","restriction":"String | ::Nil"}],"visibility":"Public","body":"_ = allocate\n_.initialize(query_start, query_end, strand, target_name, target_len, target_start, target_end, match_len, block_len, mapq, is_primary, cigar, cigar_str, nm, md, cs)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"block_len:Int32-instance-method","name":"block_len","abstract":false,"location":{"filename":"src/minimap2/types.cr","line_number":28,"url":"https://github.com/kojix2/minimap2-cr/blob/520ea6a58692984b147c2a70c50e3db92cff2665/src/minimap2/types.cr#L28"},"def":{"name":"block_len","return_type":"Int32","visibility":"Public","body":"@block_len"},"external_var":false},{"html_id":"cigar:Array(Tuple(UInt32,UInt8))-instance-method","name":"cigar","abstract":false,"location":{"filename":"src/minimap2/types.cr","line_number":31,"url":"https://github.com/kojix2/minimap2-cr/blob/520ea6a58692984b147c2a70c50e3db92cff2665/src/minimap2/types.cr#L31"},"def":{"name":"cigar","return_type":"Array(Tuple(UInt32, UInt8))","visibility":"Public","body":"@cigar"},"external_var":false},{"html_id":"cigar_str:String-instance-method","name":"cigar_str","abstract":false,"location":{"filename":"src/minimap2/types.cr","line_number":32,"url":"https://github.com/kojix2/minimap2-cr/blob/520ea6a58692984b147c2a70c50e3db92cff2665/src/minimap2/types.cr#L32"},"def":{"name":"cigar_str","return_type":"String","visibility":"Public","body":"@cigar_str"},"external_var":false},{"html_id":"cs:String|Nil-instance-method","name":"cs","abstract":false,"location":{"filename":"src/minimap2/types.cr","line_number":35,"url":"https://github.com/kojix2/minimap2-cr/blob/520ea6a58692984b147c2a70c50e3db92cff2665/src/minimap2/types.cr#L35"},"def":{"name":"cs","return_type":"String | ::Nil","visibility":"Public","body":"@cs"},"external_var":false},{"html_id":"is_primary:Bool-instance-method","name":"is_primary","abstract":false,"location":{"filename":"src/minimap2/types.cr","line_number":30,"url":"https://github.com/kojix2/minimap2-cr/blob/520ea6a58692984b147c2a70c50e3db92cff2665/src/minimap2/types.cr#L30"},"def":{"name":"is_primary","return_type":"Bool","visibility":"Public","body":"@is_primary"},"external_var":false},{"html_id":"mapq:UInt32-instance-method","name":"mapq","abstract":false,"location":{"filename":"src/minimap2/types.cr","line_number":29,"url":"https://github.com/kojix2/minimap2-cr/blob/520ea6a58692984b147c2a70c50e3db92cff2665/src/minimap2/types.cr#L29"},"def":{"name":"mapq","return_type":"UInt32","visibility":"Public","body":"@mapq"},"external_var":false},{"html_id":"match_len:Int32-instance-method","name":"match_len","abstract":false,"location":{"filename":"src/minimap2/types.cr","line_number":27,"url":"https://github.com/kojix2/minimap2-cr/blob/520ea6a58692984b147c2a70c50e3db92cff2665/src/minimap2/types.cr#L27"},"def":{"name":"match_len","return_type":"Int32","visibility":"Public","body":"@match_len"},"external_var":false},{"html_id":"md:String|Nil-instance-method","name":"md","abstract":false,"location":{"filename":"src/minimap2/types.cr","line_number":34,"url":"https://github.com/kojix2/minimap2-cr/blob/520ea6a58692984b147c2a70c50e3db92cff2665/src/minimap2/types.cr#L34"},"def":{"name":"md","return_type":"String | ::Nil","visibility":"Public","body":"@md"},"external_var":false},{"html_id":"nm:Int32-instance-method","name":"nm","abstract":false,"location":{"filename":"src/minimap2/types.cr","line_number":33,"url":"https://github.com/kojix2/minimap2-cr/blob/520ea6a58692984b147c2a70c50e3db92cff2665/src/minimap2/types.cr#L33"},"def":{"name":"nm","return_type":"Int32","visibility":"Public","body":"@nm"},"external_var":false},{"html_id":"query_end:Int32-instance-method","name":"query_end","abstract":false,"location":{"filename":"src/minimap2/types.cr","line_number":21,"url":"https://github.com/kojix2/minimap2-cr/blob/520ea6a58692984b147c2a70c50e3db92cff2665/src/minimap2/types.cr#L21"},"def":{"name":"query_end","return_type":"Int32","visibility":"Public","body":"@query_end"},"external_var":false},{"html_id":"query_start:Int32-instance-method","name":"query_start","abstract":false,"location":{"filename":"src/minimap2/types.cr","line_number":20,"url":"https://github.com/kojix2/minimap2-cr/blob/520ea6a58692984b147c2a70c50e3db92cff2665/src/minimap2/types.cr#L20"},"def":{"name":"query_start","return_type":"Int32","visibility":"Public","body":"@query_start"},"external_var":false},{"html_id":"strand:Strand-instance-method","name":"strand","abstract":false,"location":{"filename":"src/minimap2/types.cr","line_number":22,"url":"https://github.com/kojix2/minimap2-cr/blob/520ea6a58692984b147c2a70c50e3db92cff2665/src/minimap2/types.cr#L22"},"def":{"name":"strand","return_type":"Strand","visibility":"Public","body":"@strand"},"external_var":false},{"html_id":"target_end:Int32-instance-method","name":"target_end","abstract":false,"location":{"filename":"src/minimap2/types.cr","line_number":26,"url":"https://github.com/kojix2/minimap2-cr/blob/520ea6a58692984b147c2a70c50e3db92cff2665/src/minimap2/types.cr#L26"},"def":{"name":"target_end","return_type":"Int32","visibility":"Public","body":"@target_end"},"external_var":false},{"html_id":"target_len:Int32-instance-method","name":"target_len","abstract":false,"location":{"filename":"src/minimap2/types.cr","line_number":24,"url":"https://github.com/kojix2/minimap2-cr/blob/520ea6a58692984b147c2a70c50e3db92cff2665/src/minimap2/types.cr#L24"},"def":{"name":"target_len","return_type":"Int32","visibility":"Public","body":"@target_len"},"external_var":false},{"html_id":"target_name:String-instance-method","name":"target_name","abstract":false,"location":{"filename":"src/minimap2/types.cr","line_number":23,"url":"https://github.com/kojix2/minimap2-cr/blob/520ea6a58692984b147c2a70c50e3db92cff2665/src/minimap2/types.cr#L23"},"def":{"name":"target_name","return_type":"String","visibility":"Public","body":"@target_name"},"external_var":false},{"html_id":"target_start:Int32-instance-method","name":"target_start","abstract":false,"location":{"filename":"src/minimap2/types.cr","line_number":25,"url":"https://github.com/kojix2/minimap2-cr/blob/520ea6a58692984b147c2a70c50e3db92cff2665/src/minimap2/types.cr#L25"},"def":{"name":"target_start","return_type":"Int32","visibility":"Public","body":"@target_start"},"external_var":false}]},{"html_id":"minimap2/Minimap2/Strand","path":"Minimap2/Strand.html","kind":"enum","full_name":"Minimap2::Strand","name":"Strand","abstract":false,"ancestors":[{"html_id":"minimap2/Enum","kind":"struct","full_name":"Enum","name":"Enum"},{"html_id":"minimap2/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"},{"html_id":"minimap2/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"minimap2/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/minimap2/types.cr","line_number":2,"url":"https://github.com/kojix2/minimap2-cr/blob/520ea6a58692984b147c2a70c50e3db92cff2665/src/minimap2/types.cr#L2"}],"repository_name":"minimap2","program":false,"enum":true,"alias":false,"const":false,"constants":[{"id":"Forward","name":"Forward","value":"0"},{"id":"Reverse","name":"Reverse","value":"1"}],"namespace":{"html_id":"minimap2/Minimap2","kind":"module","full_name":"Minimap2","name":"Minimap2"},"instance_methods":[{"html_id":"forward?-instance-method","name":"forward?","doc":"Returns `true` if this enum value equals `Forward`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../Minimap2/Strand.html#Forward\">Forward</a></code></p>","abstract":false,"location":{"filename":"src/minimap2/types.cr","line_number":3,"url":"https://github.com/kojix2/minimap2-cr/blob/520ea6a58692984b147c2a70c50e3db92cff2665/src/minimap2/types.cr#L3"},"def":{"name":"forward?","visibility":"Public","body":"self == Forward"},"external_var":false},{"html_id":"reverse?-instance-method","name":"reverse?","doc":"Returns `true` if this enum value equals `Reverse`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../Minimap2/Strand.html#Reverse\">Reverse</a></code></p>","abstract":false,"location":{"filename":"src/minimap2/types.cr","line_number":4,"url":"https://github.com/kojix2/minimap2-cr/blob/520ea6a58692984b147c2a70c50e3db92cff2665/src/minimap2/types.cr#L4"},"def":{"name":"reverse?","visibility":"Public","body":"self == Reverse"},"external_var":false}]}]}]}}